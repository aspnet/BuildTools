# Description: Runs build.cmd/sh on macOS, Linux, and Windows
# Parameters:
#   buildArgs: string
#       Additional arguments to pass to the build.sh/cmd script.
#       Note: -ci is always passed

parameters:
  buildArgs: ''

phases:
- template: phases/default-build.yml
  parameters:
    agentOs: Windows
    configuration: Release
    buildArgs: ${{ parameters.buildArgs }}
- template: phases/default-build.yml
  parameters:
    agentOs: Windows
    configuration: Debug
    buildArgs: ${{ parameters.buildArgs }}
- template: phases/default-build.yml
  parameters:
    agentOs: macOS
    configuration: Release
    buildArgs: ${{ parameters.buildArgs }}
- template: phases/default-build.yml
  parameters:
    agentOs: macOS
    configuration: Debug
    buildArgs: ${{ parameters.buildArgs }}
- template: phases/default-build.yml
  parameters:
    agentOs: Linux
    configuration: Release
    buildArgs: ${{ parameters.buildArgs }}
- template: phases/default-build.yml
  parameters:
    agentOs: Linux
    configuration: Debug
    buildArgs: ${{ parameters.buildArgs }}
